<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="team">
<!-- 팀자유게시판 / 팀자유게시판 페이징처리 -->
 	<select id="selectCount" resultType="_int">
 		select count(*) from TeamBoard
 	</select>
 	<select id="selectList" resultType="team">
 		select A.*,(select count(*) from TEAMBOARDATTACHMENT where A.boardno=boardno) filecount from teamboard A order by boarddate desc
 	</select>
 	
 	<!-- 팀자유게시판 상세보기 -->
 	<select id="selectteamBoard" parameterType="_int" resultType="team">
		select * from teamboard where boardno=#{boardNo}
	</select>
	<select id="selectAttachment" parameterType="_int" resultType="com.kh.pickmatch.model.vo.TeamBoardAttachment">
		select * from teamboardattachment where attachmentno=#{boardNo}
	</select>
 	
 	
 	<!-- 팀 공지사항 -->
 	<select id="selectCountN" resultType="_int">
 		select count(*) from TeamNotice
 	</select>
 	<select id="selectListN" resultType="teamnotice">
 		select * from teamnotice order by noticedate desc
 	</select>
 	
 	<!-- 팀 공지사항 상세보기 -->
 	<resultMap id="teamnoticemap" type="teamnotice">
		<result column="noticeno" property="noticeNo"/>
		<result column="noticetitle" property="noticeTitle"/>
		<result column="memberid" property="memberId"/>
		<result column="noticedate" property="noticeDate"/>
		<result column="noticereadcount" property="noticeReadCount"/>
		<result column="teamname" property="teamName"/>
	</resultMap>
 	
 	
 	<select id="selectNoticeView" parameterType="teamnotice" resultMap="teamnoticemap">
		select * from teamnotice where noticeno=#{noticeNo}
	</select>
 	
 	
 	
 	<!-- 팀 공지사항 글쓰기 -->
 	<insert id="insertNotice"  parameterType="teamnotice">
 		insert into teamnotice values(seq_teamnoticeno.nextval,#{noticeTitle},#{memberId},#{noticeContent},default,default,#{teamName})
 	</insert>

 	<!-- 팀 공지사항 글삭제 -->
 	<delete id="deleteNotice">
 		delete from teamnotice where noticeno=#{noticeNo}
 	</delete>
 	
 	<!-- 팀 공지사항 수정 -->
 	<select id="selectOne" resultType="teamnotice">
 		select * from teamnotice where noticeno=#{noticeNo}
 	</select>
 	
 	
 	
 	
</mapper>
